description 'Automated acceptance test with SSH server'

buildscript {
    def version = file('../gradle.properties').withReader {
        def properties = new Properties()
        properties.load(it)
        properties.version
    }
    repositories {
        ivy { url = '../build/ivy' }
        mavenCentral()
    }
    dependencies {
        classpath "org.hidetake:gradle-ssh-plugin:$version"
    }
}

project.metaClass.mixin(FeatureSupport as Class)

task test {
    description = 'Run tests'
}

task testWithAgent {
    description = 'Run tests which require ssh-agent'
}

task testGateway {
    description = 'Run tests of gateway (separate to turn off host key checking)'
}

task aggressiveTest {
    description = 'Run tests which may cause modification of the environment'
}

apply from: 'features.gradle'
